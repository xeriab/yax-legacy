!function(){"use strict";function t(t,i){this.element=t,this.options=i,this.cssClass="js-waitforme",this.effects=null,this.effectElementCount=null,this.createSubElement=!1,this.specificAttr="background-color",this.effectElementHTML="",this.containerSize=null,this.elementSize=null,this.div=null,this.content=null,this.runMe()}Y.extend(Y.Settings.DOM,{waitForMe:{opacity:1,effect:"bounce",content:"",background:"rgba(245, 245, 245, .75)",color:"rgba(10, 20, 30, .9)",width:0,height:0,container:"body",trigger:"close.yax.waitforme"}});var i=Y.Settings.DOM.waitForMe;t.prototype={runMe:function(){this.setContent(),this._init_(),this.setEvents()},Show:function(){Y.DOM("div.js-waitforme").hide(),this.WaitForMe.css("display","block")},Hide:function(){this.WaitForMe.hide(),this.WaitForMe.css("display","none")},Toggle:function(){this.WaitForMe.is(":visible")?this.Hide():this.Show()},_init_:function(){var t;switch(this.options.effect){case"none":this.effectElementCount=0;break;case"bounce":this.effectElementCount=3,this.containerSize="",this.elementSize={width:this.options.width.toString()+"px",height:this.options.height.toString()+"px"};break;case"rotateplane":this.effectElementCount=1,this.containerSize="",this.elementSize={width:this.options.width.toString()+"px",height:this.options.height.toString()+"px"};break;case"stretch":this.effectElementCount=5,this.containerSize="",this.elementSize={width:this.options.width.toString()+"px",height:this.options.height.toString()+"px"};break;case"orbit":this.effectElementCount=2,this.containerSize={width:this.options.width.toString()+"px",height:this.options.height.toString()+"px"},this.elementSize="";break;case"roundBounce":this.effectElementCount=12,this.containerSize={width:this.options.width.toString()+"px",height:this.options.height.toString()+"px"},this.elementSize="";break;case"win8":this.effectElementCount=5,this.createSubElement=!0,this.containerSize={width:this.options.width.toString()+"px",height:this.options.height.toString()+"px"},this.elementSize={width:this.options.width.toString()+"px",height:this.options.height.toString()+"px"};break;case"win8_linear":this.effectElementCount=5,this.createSubElement=!0,this.containerSize={width:this.options.width.toString()+"px",height:this.options.height.toString()+"px"},this.elementSize="";break;case"ios":this.effectElementCount=12,this.containerSize={width:this.options.width.toString()+"px",height:this.options.height.toString()+"px"},this.elementSize="";break;case"facebook":this.effectElementCount=3,this.containerSize="",this.elementSize={width:this.options.width.toString()+"px",height:this.options.height.toString()+"px"};break;case"rotation":this.effectElementCount=1,this.specificAttr="border-color",this.containerSize="",this.elementSize={width:this.options.width.toString()+"px",height:this.options.height.toString()+"px"}}if(this.elementSize="width: "+this.elementSize.width+"; height: "+this.elementSize.height,this.containerSize="width: "+this.containerSize.width+"; height: "+this.containerSize.height,Y.isEmpty(this.options.width)&&Y.isEmpty(this.options.height)&&(this.elementSize=Y.empty,this.containerSize=Y.empty),this.effects=Y.DOM('<div class="'+this.cssClass+"-progress "+this.options.effect+'"></div>'),this.effectElementCount>0){for(t=1;t<=this.effectElementCount;++t)this.effectElementHTML+=this.createSubElement?'<div class="'+this.cssClass+"-progress-element"+t+'" style="'+this.elementSize+'"><div style="'+this.specificAttr+": "+this.options.color+'"></div></div>':'<div class="'+this.cssClass+"-progress-element"+t+'" style="'+this.specificAttr+": "+this.options.color+"; "+this.elementSize+'"></div>';this.effects=Y.DOM('<div class="'+this.cssClass+"-progress "+this.options.effect+'" style="'+this.containerSize+'">'+this.effectElementHTML+"</div>")}this.options.content&&(this.content=Y.DOM('<div class="'+this.cssClass+'-text" style="color: '+this.options.color+';">'+this.options.content+"</div>")),this.element.find("> ."+this.cssClass)&&this.element.find("> ."+this.cssClass).remove(),this.div=Y.DOM('<div class="'+this.cssClass+'-content"></div>'),this.div.append(this.effects,this.content),this.div.appendTo(this.WaitForMe),"HTML"===this.element[0].tagName&&(this.element=Y.DOM("body")),this.element.addClass(this.cssClass+"-container").append(this.WaitForMe),this.element.find("> ."+this.cssClass).css({background:this.options.background}),this.element.find("."+this.cssClass+"-content").css({marginTop:-this.element.find("."+this.cssClass+"-content").outerHeight()/2+"px"})},Close:function(){this.element.removeClass(this.cssClass+"-container"),this.element.find("."+this.cssClass).remove()},setContent:function(){if(this.options.content)this.content=this.options.content;else if(this.element.data("YAX-WaitForMe"))this.content=this.element.data("YAX-WaitForMe");else if(Y.isEmpty(this.options.content))this.content=Y.empty;else{if(!Y.isNull(this.options.content))return void Y.ERROR("No content for WaitForMe: "+this.element.selector);this.content=Y.empty}"#"===this.content.charAt(0)?(Y.DOM(this.content).hide(),this.content=Y.DOM(this.content).html(),this.contentType="html"):this.contentType="text",this.WaitForMe=Y.DOM("<div></div>").addClass(this.cssClass),this.options.container?this.WaitForMe.prependTo(this.options.container):this.WaitForMe.insertAfter(this.element.parent()),"html"===this.contentType&&this.WaitForMe.css("max-width","none"),this.WaitForMe.css("opacity",this.options.opacity)},setEvents:function(){var t=this;"close.yax.waitforme"===this.options.trigger&&(this.WaitForMe.on("close.yax.waitforme",function(){t.Close()}),this.element.on("close.yax.waitforme",function(){t.Close()}))}},Y.DOM.Function.waitForMe=function(e){var s=Y.extend({},i,e);return"close"===e?new t(Y.DOM(this),s).Close():this.each(function(){return new t(Y.DOM(this),s)})}}();