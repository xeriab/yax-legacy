!function(){"use strict";function t(t,i){this.Element=t,this.Options=i,this.Delay=null,this.init()}Y.Extend(Y.Settings.DOM,{Tooltip:{Opacity:1,Content:"",Size:"small",Gravity:"north",Theme:"dark",Trigger:"hover",Animation:"flipIn",Confirm:!1,Yes:"Yes",No:"No",FinalMessage:"",FinalMessageDuration:500,OnYes:Y.Lang.noop,OnNo:Y.Lang.noop,Container:"body"}});var i=Y.Settings.DOM.Tooltip;t.prototype={init:function(){this.setContent(),this.Content&&this.setEvents()},Show:function(){Y.DOM(this.Element).css("cursor","pointer"),Y.DOM("div.yax-tooltip").remove(),Y.Window.clearTimeout(this.Delay),this.setContent(),this.setPositions(),this.Tooltip.css("display","block")},Hide:function(){this.Tooltip.remove(),window.clearTimeout(this.Delay),this.Tooltip.css("display","none")},Toggle:function(){this.Tooltip.is(":visible")?this.Hide():this.Show()},addAnimation:function(){switch(this.Options.Animation){case"none":break;case"fadeIn":this.Tooltip.addClass("animated"),this.Tooltip.addClass("fadeIn");break;case"flipIn":this.Tooltip.addClass("animated"),this.Tooltip.addClass("flipIn")}},setContent:function(){if(this.Options.Content)this.Content=this.Options.Content;else if(this.Element.data("tooltip"))this.Content=this.Element.data("tooltip");else{if(!this.Element.title())return void Y.ERROR("No content for Tooltip: "+this.Element.selector);this.Content=this.Element.title(),this.Element.title("")}"#"===this.Content.charAt(0)?(Y.DOM(this.Content).hide(),this.Content=Y.DOM(this.Content).html(),this.contentType="html"):this.contentType="text",this.Tooltip=Y.DOM('<div class="yax-tooltip '+this.Options.Theme+" "+this.Options.Size+" "+this.Options.Gravity+'"><div class="tooltiptext">'+this.Content+'</div><div class="tip"></div></div>'),this.Tip=this.Tooltip.find(".tip"),""!==this.Options.Container||this.Options.Container?this.Tooltip.prependTo(this.Options.Container):this.Tooltip.insertBefore(this.Element.parent()),"html"===this.contentType&&this.Tooltip.css("max-width","none"),this.Tooltip.css("opacity",this.Options.Opacity),this.addAnimation(),this.Options.Confirm&&this.addConfirm()},getPosition:function(){var t=this.Element[0];return Y.Extend({},Y.Lang.isFunction(t.getBoundingClientRect)?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.Element.offset())},setPositions:function(){var t=0,i=0,o=this.Element.offset().top,e=this.Element.offset().left;switch(("fixed"===this.Element.css("position")||"absolute"===this.Element.css("position"))&&(o=0,e=0),this.Options.Gravity){case"south":t=e+this.Element.outerWidth()/2-this.Tooltip.outerWidth()/2,i=o-this.Tooltip.outerHeight()-this.Tip.outerHeight()/2;break;case"west":t=e+this.Element.outerWidth()+this.Tip.outerWidth()/2,i=o+this.Element.outerHeight()/2-this.Tooltip.outerHeight()/2;break;case"north":t=e+this.Element.outerWidth()/2-this.Tooltip.outerWidth()/2,i=o+this.Element.outerHeight()+this.Tip.outerHeight()/2;break;case"east":t=e-this.Tooltip.outerWidth()-this.Tip.outerWidth()/2,i=o+this.Element.outerHeight()/2-this.Tooltip.outerHeight()/2;break;case"center":t=e+this.Element.outerWidth()/2-this.Tooltip.outerWidth()/2,i=o+this.Element.outerHeight()/2-this.Tip.outerHeight()/2}this.Tooltip.css("left",t),this.Tooltip.css("top",i)},setEvents:function(){var t=this;"hover"===this.Options.Trigger||"mouseover"===this.Options.Trigger||"onmouseover"===this.Options.Trigger?this.Element.mouseover(function(){t.setPositions(),t.Show()}).mouseout(function(){t.Hide()}):("click"===this.Options.Trigger||"onclick"===this.Options.Trigger)&&(this.Tooltip.click(function(t){t.stopPropagation()}),this.Element.click(function(i){i.preventDefault(),t.setPositions(),t.Toggle(),i.stopPropagation()}),Y.DOM("html").click(function(){t.Hide()}))},activate:function(){this.setContent(),this.Content&&this.setEvents()},addConfirm:function(){this.Tooltip.append('<ul class="confirm"><li class="yax-tooltip-yes">'+this.Options.Yes+'</li><li class="yax-tooltip-no">'+this.Options.No+"</li></ul>"),this.setConfirmEvents()},setConfirmEvents:function(){var t=this;this.Tooltip.find("li.yax-tooltip-yes").click(function(i){t.onYes(),i.stopPropagation()}),this.Tooltip.find("li.yax-tooltip-no").click(function(i){t.onNo(),i.stopPropagation()})},finalMessage:function(){if(this.Options.FinalMessage){var t=this;t.Tooltip.find("div:first").html(this.Options.FinalMessage),t.Tooltip.find("ul").remove(),t.setPositions(),setTimeout(function(){t.Hide(),t.setContent()},t.Options.FinalMessageDuration)}else this.Hide()},onYes:function(){this.Options.OnYes(this.Element),this.finalMessage()},onNo:function(){this.Options.OnNo(this.Element),this.Hide()}},Y.DOM.Function.Tooltip=function(o){return o=Y.Extend({},i,o),this.each(function(){return new t(Y.DOM(this),o)})}}();