!function(){"use strict";function t(t,i){this.element=t,this.options=i,this.delay=null,this.init()}Y.config.set("yax.plugins.tooltip.opacity",1),Y.config.set("yax.plugins.tooltip.content",""),Y.config.set("yax.plugins.tooltip.size","small"),Y.config.set("yax.plugins.tooltip.gravity","north"),Y.config.set("yax.plugins.tooltip.theme","dark"),Y.config.set("yax.plugins.tooltip.trigger","hover"),Y.config.set("yax.plugins.tooltip.animation","flipIn"),Y.config.set("yax.plugins.tooltip.confirm",!1),Y.config.set("yax.plugins.tooltip.yes","Yes"),Y.config.set("yax.plugins.tooltip.no","No"),Y.config.set("yax.plugins.tooltip.finalMessage",""),Y.config.set("yax.plugins.tooltip.finalMessageDuration",500),Y.config.set("yax.plugins.tooltip.onYes",Y.noop),Y.config.set("yax.plugins.tooltip.onNo",Y.noop),Y.config.set("yax.plugins.tooltip.container","body");var i=Y.config.getAll("yax.plugins.tooltip",!1,!0);t.prototype={init:function(){this.setContent(),this.content&&this.setEvents()},show:function(){$(this.element).css("cursor","pointer"),$("div.yax-tooltip").remove(),window.clearTimeout(this.delay),this.setContent(),this.setPositions(),this.Tooltip.css("display","block")},hide:function(){this.Tooltip.remove(),window.clearTimeout(this.delay),this.Tooltip.css("display","none")},toggle:function(){this.Tooltip.is(":visible")?this.hide():this.show()},addAnimation:function(){switch(this.options.animation){case"none":break;case"fadeIn":this.Tooltip.addClass("animated"),this.Tooltip.addClass("fadeIn");break;case"flipIn":this.Tooltip.addClass("animated"),this.Tooltip.addClass("flipIn")}},setContent:function(){if(this.options.content)this.content=this.options.content;else if(this.element.data("tooltip"))this.content=this.element.data("tooltip");else{if(!this.element.title())return void Y.error("no content for Tooltip: "+this.element.selector);this.content=this.element.title(),this.element.title("")}"#"===this.content.charAt(0)?($(this.content).hide(),this.content=$(this.content).html(),this.contentType="html"):this.contentType="text",this.Tooltip=$('<div class="yax-tooltip '+this.options.theme+" "+this.options.size+" "+this.options.gravity+'"><div class="tooltiptext">'+this.content+'</div><div class="tip"></div></div>'),this.Tip=this.Tooltip.find(".tip"),""!==this.options.container||this.options.container?this.Tooltip.prependTo(this.options.container):this.Tooltip.insertBefore(this.element.parent()),"html"===this.contentType&&this.Tooltip.css("max-width","none"),this.Tooltip.css("opacity",this.options.opacity),this.addAnimation(),this.options.confirm&&this.addConfirm()},getPosition:function(){var t=this.element[0];return Y.extend({},Y.isFunction(t.getBoundingClientRect)?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.element.offset())},setPositions:function(){var t=0,i=0,o=this.element.offset().top,e=this.element.offset().left;switch(("fixed"===this.element.css("position")||"absolute"===this.element.css("position"))&&(o=0,e=0),$(window).width()<1.5*this.Tooltip.width()?this.Tooltip.css("max-width",$(window).width()/2):this.Tooltip.css("max-width",340),this.options.gravity){case"south":t=e+this.element.outerWidth()/2-this.Tooltip.outerWidth()/2,i=o-this.Tooltip.outerHeight()-this.Tip.outerHeight()/2;break;case"west":t=e+this.element.outerWidth()+this.Tip.outerWidth()/2,i=o+this.element.outerHeight()/2-this.Tooltip.outerHeight()/2;break;case"north":t=e+this.element.outerWidth()/2-this.Tooltip.outerWidth()/2,i=o+this.element.outerHeight()+this.Tip.outerHeight()/2;break;case"east":t=e-this.Tooltip.outerWidth()-this.Tip.outerWidth()/2,i=o+this.element.outerHeight()/2-this.Tooltip.outerHeight()/2;break;case"center":t=e+this.element.outerWidth()/2-this.Tooltip.outerWidth()/2,i=o+this.element.outerHeight()/2-this.Tip.outerHeight()/2}this.Tooltip.css("left",t),this.Tooltip.css("top",i)},setEvents:function(){var t=this;"hover"===this.options.trigger||"mouseover"===this.options.trigger||"onmouseover"===this.options.trigger?this.element.mouseover(function(){t.setPositions(),t.show()}).mouseout(function(){t.hide()}):("click"===this.options.trigger||"onclick"===this.options.trigger)&&(this.Tooltip.click(function(t){t.stopPropagation()}),this.element.click(function(i){i.preventDefault(),t.setPositions(),t.toggle(),i.stopPropagation()}),$("html").click(function(){t.hide()}))},activate:function(){this.setContent(),this.content&&this.setEvents()},addConfirm:function(){this.Tooltip.append('<ul class="confirm"><li class="yax-tooltip-yes">'+this.options.yes+'</li><li class="yax-tooltip-no">'+this.options.no+"</li></ul>"),this.setConfirmEvents()},setConfirmEvents:function(){var t=this;this.Tooltip.find("li.yax-tooltip-yes").click(function(i){t.onYes(),i.stopPropagation()}),this.Tooltip.find("li.yax-tooltip-no").click(function(i){t.onNo(),i.stopPropagation()})},finalMessage:function(){if(this.options.finalMessage){var t=this;t.Tooltip.find("div:first").html(this.options.finalMessage),t.Tooltip.find("ul").remove(),t.setPositions(),setTimeout(function(){t.hide(),t.setContent()},t.options.finalMessageDuration)}else this.hide()},onYes:function(){this.options.onYes(this.element),this.finalMessage()},onNo:function(){this.options.onNo(this.element),this.hide()}},$.fn.Tooltip=function(o){return o=Y.extend({},i,o),this.each(function(){return new t($(this),o)})}}();