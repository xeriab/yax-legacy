!function(){"use strict";function t(t,i){this.element=t,this.options=i,this.delay=null,this.type="tooltip",this.title=null,this.init()}Y.config.set("Tooltip.dynamic",!1),Y.config.set("Tooltip.opacity",1),Y.config.set("Tooltip.gap",5),Y.config.set("Tooltip.title",null),Y.config.set("Tooltip.size","small"),Y.config.set("Tooltip.placement","south"),Y.config.set("Tooltip.theme","dark"),Y.config.set("Tooltip.trigger","hover focus"),Y.config.set("Tooltip.animation","fadeIn"),Y.config.set("Tooltip.confirm",!1),Y.config.set("Tooltip.yes","Yes"),Y.config.set("Tooltip.no","No"),Y.config.set("Tooltip.finalMessage",null),Y.config.set("Tooltip.finalMessageDuration",500),Y.config.set("Tooltip.onYes",Y.noop),Y.config.set("Tooltip.onNo",Y.noop),Y.config.set("Tooltip.container","body");var i=Y.config.getAll("Tooltip",!1,!0);t.prototype={init:function(){this.setContent(),null!==this.title&&this.setEvents(),Y.DOM("tooltip.yax-tooltip-dynamic").hide(),Y.DOM("tooltip.yax-tooltip-dynamic").remove(),Y.DOM("tooltip.yax-tooltip").hide(),Y.DOM("tooltip.yax-tooltip").remove()},show:function(){Y.DOM(this.element).css("cursor","pointer"),Y.DOM("tooltip.yax-tooltip").hide(),Y.DOM("tooltip.yax-tooltip").remove(),Y.DOM("tooltip.yax-tooltip-dynamic").hide(),Y.DOM("tooltip.yax-tooltip-dynamic").remove(),window.clearTimeout(this.delay),this.setContent(),this.setPositions(),this.Tooltip.css("display","block"),this.Tooltip.addClass("yax-unselectable"),this.Tooltip.addClass("yax-undraggable"),this.element.title("")},hide:function(){this.Tooltip.hide(),this.Tooltip.remove(),window.clearTimeout(this.delay),this.Tooltip.css("display","none"),this.element.title(this.title),this.element.removeData("tooltip")},toggle:function(){this.Tooltip.is(":visible")?this.hide():this.show()},addAnimation:function(){switch(Y.isTrue(this.options.dynamic)&&(this.options.animation="none"),this.options.animation){case"none":break;case"fade":this.Tooltip.addClass("yax-animated"),this.Tooltip.addClass("yax-fade");break;case"FadeIn":this.Tooltip.addClass("yax-animated"),this.Tooltip.addClass("yaxFadeIn");break;case"fadeIn":this.Tooltip.addClass("yax-animated"),this.Tooltip.addClass("fadeIn");break;case"flipIn":this.Tooltip.addClass("yax-animated"),this.Tooltip.addClass("flipIn")}},setContent:function(){var t=Y.isSet(this.options.dynamic)&&Y.isTrue(this.options.dynamic);if(this.options.title)this.title=this.options.title;else if(this.element.data("tooltip"))this.title=this.element.data("tooltip");else{if(!this.element.attr("title"))return void Y.ERROR("No title for Tooltip: "+this.element.selector);this.title=this.element.title(),this.element.data("tooltip",this.element.title())}"#"===this.title.charAt(0)?(Y.DOM(this.title).hide(),this.title=Y.DOM(this.title).html(),this.contentType="html"):this.contentType="text",this.Tooltip=Y.DOM('<tooltip class="yax-tooltip'+(t?"-dynamic ":" ")+(t?Y.empty:Y.ucFirst(this.options.theme)+" ")+(t?Y.empty:Y.ucFirst(this.options.size)+" ")+(t?Y.empty:this.options.placement)+'"><content>'+this.title+"</content>"+(t?Y.empty:'<arrow class="yax-tip"></arrow>')+"</tooltip>"),t||(this.Tip=this.Tooltip.find(".yax-tip")),Y.isNull(this.options.container)&&Y.isEmpty(this.options.container)||!this.options.container?this.Tooltip.insertBefore(this.element.parent()):this.Tooltip.prependTo(this.options.container),"html"===this.contentType&&this.Tooltip.css("max-width","none"),t||this.Tooltip.css("opacity",this.options.opacity),this.addAnimation(),t||this.options.confirm&&this.addConfirm()},getPosition:function(){var t=this.element[0];return Y.extend({},Y.isFunction(t.getBoundingClientRect)?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.element.offset())},setDynamicPositions:function(){var t=0,i=0,o=this.getPosition().top,e=this.getPosition().left,s=this.element.outerWidth(),n=this.element.outerHeight(),l=this.Tooltip.outerWidth(),a=this.Tooltip.outerHeight();("fixed"===this.element.css("position")||"absolute"===this.element.css("position"))&&(o=0,e=0),Y.DOM(window).width()<1.5*l?this.Tooltip.css("max-width",Y.DOM(window).width()/2):this.Tooltip.css("max-width",240),t=e+s/2-l/2,i=o-a-10,0>t?(t=e+s/2-10,this.Tooltip.addClass("left")):this.Tooltip.removeClass("left"),t+l>Y.DOM(window).width()?(t=e-l+s/2+10,this.Tooltip.addClass("right")):this.Tooltip.removeClass("right"),0>i?(i=o+n,this.Tooltip.addClass("top")):this.Tooltip.removeClass("top"),this.Tooltip.css({left:t,top:i})},setStaticPositions:function(){var t=0,i=0,o=this.getPosition().top,e=this.getPosition().left,s=this.element.outerWidth(),n=this.element.outerHeight(),l=this.Tooltip.outerWidth(),a=this.Tooltip.outerHeight(),h=this.Tip.outerWidth(),p=this.Tip.outerHeight(),c=this.options.gap;switch(("fixed"===this.element.css("position")||"absolute"===this.element.css("position"))&&(o=0,e=0),Y.DOM(window).width()<1.5*l?this.Tooltip.css("max-width",Y.DOM(window).width()/2):this.Tooltip.css("max-width",240),this.options.placement){case"north":t=e+s/2-l/2,i=o-a-p/2-c;break;case"east":t=e+s+h/2+c,i=o+n/2-a/2;break;case"south":t=e+s/2-l/2,i=o+n+p/2+c;break;case"west":t=e-l-h/2-c,i=o+n/2-a/2;break;case"center":t=e+s/2-l/2,i=o+n/2-p/2;break;case"legacy":t=e+s/2-l/2,i=o+n/2+10}this.Tooltip.css({left:t,top:i})},setPositions:function(){Y.isSet(this.options.dynamic)&&Y.isTrue(this.options.dynamic)?this.setDynamicPositions():this.setStaticPositions()},setEvents:function(){var t,i,o,e,s,n,l=this,a=this.options.trigger.split(" ");for(s=function(t){Y.isTrue(l.options.confirm)&&(l.options.trigger="click",l.element.trigger("click"),t.stopPropagation(),t.preventDefault()),t.preventDefault(),l.setPositions(),l.show(),Y.isTrue(l.options.dynamic)&&l.Tooltip.animate({translateY:"2px",opacity:1},75,"ease-out"),t.preventDefault()},n=function(t){Y.isFalse(l.options.confirm)?(t.preventDefault(),l.hide(),t.stopPropagation()):(t.stopPropagation(),t.preventDefault())},t=a.length;t--;t)i=a[t],"manual"!==i&&(o="hover"===i?"mouseenter":"focusin",e="hover"===i?"mouseleave":"focusout",l.element.on(o+"."+l.type,Y.DOM.proxy(s,l)),l.element.on(e+"."+l.type,Y.DOM.proxy(n,l)));"click"===l.options.trigger&&(l.Tooltip.one("click",function(t){t.stopPropagation()}),l.element.one("click",function(t){t.preventDefault(),l.setPositions(),l.toggle(),t.stopPropagation()}),Y.DOM("html").click(function(){l.hide()}))},activate:function(){this.setContent(),this.title&&this.setEvents()},addConfirm:function(){this.Tooltip.append('<ul class="confirm"><li class="yax-tooltip-yes">'+this.options.yes+'</li><li class="yax-tooltip-no">'+this.options.no+"</li></ul>"),this.setConfirmEvents()},setConfirmEvents:function(){var t=this;this.Tooltip.find("li.yax-tooltip-yes").click(function(i){t.onYes(),i.stopPropagation()}),this.Tooltip.find("li.yax-tooltip-no").click(function(i){t.onNo(),i.stopPropagation()})},finalMessage:function(){if(this.options.finalMessage){var t=this;t.Tooltip.find("tooltip:first").html(this.options.finalMessage),t.Tooltip.find("ul").remove(),t.setPositions(),setTimeout(function(){t.hide(),t.setContent()},t.options.finalMessageDuration)}else this.hide()},onYes:function(){this.options.onYes(this.element),this.finalMessage()},onNo:function(){this.options.onNo(this.element),this.hide()}},Y.DOM.Function.Tooltip=function(o){o=Y.extend({},i,o);var e=new t(Y.DOM(this),o);return this.each(function(){return e})}}();